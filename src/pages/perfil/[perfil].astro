---
import Layout from "../../layouts/Layout.astro";
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";
let { perfil } = Astro.params;

import { tursodb } from "../../../astro.config.mjs";
---

<Layout title="Tu Perfil" kind={1}>
    <Header />
    <main>
        <div class="container mx-auto px-4 py-8">
            <div
                class="max-w-3xl mx-auto bg-white rounded-lg shadow-md overflow-hidden"
            >
                <div class="px-6 py-4 bg-gray-800 text-white">
                    <h1 class="text-2xl font-bold">Perfil de Usuario</h1>
                </div>
                <div class="p-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <h2 class="text-lg font-semibold mb-2">Usuario</h2>
                            <p id="perfil" class="text-gray-700">{perfil}</p>
                        </div>
                        <div>
                            <h2 class="text-lg font-semibold mb-2">Nombre</h2>
                            <p class="text-gray-700">Juan</p>
                        </div>
                        <div>
                            <h2 class="text-lg font-semibold mb-2">
                                Apellidos
                            </h2>
                            <p class="text-gray-700">Pérez García</p>
                        </div>
                        <div>
                            <h2 class="text-lg font-semibold mb-2">Teléfono</h2>
                            <p class="text-gray-700">+34 123 456 789</p>
                        </div>
                        <div>
                            <h2 class="text-lg font-semibold mb-2">Email</h2>
                            <p class="text-gray-700">juan.perez@example.com</p>
                        </div>
                        <div>
                            <h2 class="text-lg font-semibold mb-2">NIF</h2>
                            <p class="text-gray-700">12345678A</p>
                        </div>
                        <div>
                            <h2 class="text-lg font-semibold mb-2">NIP</h2>
                            <p class="text-gray-700">987654</p>
                        </div>
                    </div>
                    <div class="mt-6">
                        <h2 class="text-lg font-semibold mb-2">Comentarios</h2>
                        <p class="text-gray-700">
                            Lorem ipsum dolor sit amet, consectetur adipiscing
                            elit. Sed do eiusmod tempor incididunt ut labore et
                            dolore magna aliqua.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <Footer />
</Layout>

<script>
    // fetch a getinfo para obtener toda la información de usuario y profesor
    const perfil = document.querySelector("#perfil").textContent;
    const url = "http://localhost:4321/api/getinfo";
    const data = {
        emailusuario: perfil,
    };

    /* const response = await fetch(url, {
        method: "POST",
        headers: {
            "Content-Type": "application/json",
        },
        body: JSON.stringify(data),
    }); */
</script>
